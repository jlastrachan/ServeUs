
<!DOCTYPE html>

<!--
  
  stuff to do:
  
  requests page:
  * fix layout/sizing stuff
  * save data -> refreshing doesn't clear it all
  * edit/remove functionality for the person in charge
  overall:
  * sign in
  * minor updates to homepage
  * link to stuff [know how to now :) ]
  
-->	
<html>

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Requests</title>

<!-- Load style sheets -->
<link href="bootstrap-3.1.1-dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="sarahs.css" />


<!-- Load any supplemental Javascript libraries here -->
<script type="text/javascript" src="external_js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="external_js/jquery-ui.min.js"></script>
<script type="text/javascript" src="bootstrap-3.1.1-dist/js/bootstrap.min.js"></script>
<script type="text/javascript">


// do javascript stuff here
/*$.fn.editable.defaults.mode = 'inline';
$.fn.editable.defaults.showbuttons = false;
$.fn.editable.defaults.url = '/post';
$.fn.editable.defaults.type = 'text';

*/

$(document).ready(function() {
	$(newRequest).val('');
	$('#houseTeam').prop('disabled', false);
	var hTeam = false;
	
	var allRequests = new Array();
	var requestNames = new Array();
	allRequests.push("strawberries");
	allRequests.push ("pitachips");
	console.log("working here");
	
	$('#houseTeam').click(function(evt){
		console.log("just clicked hosue team");
		$('#houseTeam').prop('disabled', true); // only for now... easier this way!
		for (var i =0; i< allRequests.length; i++) {
			var request = allRequests[i];
			$('#'+request+'text').attr('contenteditable',"true");
			$('#'+request+'text').css('cursor', 'text' );
			$('#delete'+request).append("<button class = 'btn btn-sm' style='background-color:transparent' id = 'deleted" + request+"'> <span class = 'glyphicon glyphicon-remove'></span> </button>");
			$('#deleted'+request).click(function(evt){
				$(this).parents('li').remove();	
			});
			
		}
		hTeam = true;
	});

	$("#likedstrawberries").click(function(evt){
      var currNum = parseInt($("#numLikedstrawberries").text());
      var newNum = currNum + 1;
      $("#numLikedstrawberries").text(newNum);
     });
     
	$("#dislikedstrawberries").click(function(evt){
      	var currNum = parseInt($("#numDislikedstrawberries").text());
      	var newNum = currNum + 1;
		$("#numDislikedstrawberries").text(newNum);
	});
	
	$("#likedpitachips").click(function(evt){
      var currNum = parseInt($("#numLikedpitachips").text());
      var newNum = currNum + 1;
      $("#numLikedpitachips").text(newNum);
     });
     
	$("#dislikedpitachips").click(function(evt){
      	var currNum = parseInt($("#numDislikedpitachips").text());
      	var newNum = currNum + 1;
		$("#numDislikedpitachips").text(newNum);
	});

	$("#btnSubmit").click(function(evt) {
		console.log("pressed submit button");
		var requestName = $(newRequest).val();
		var request = $(newRequest).val().replace(/[ .,!?]/g,'');
		if (request == '') {return;}
		allRequests.push(request);
		
		$('#stickies').append("<li class = 'col-xs-4'>" +
   			"<a href='#' class='thumbnail' id='sticky" + request+"'>" +
      		"<img src= 'stickynote.png'>" +
      		"<div class = 'requestedItem'>" +
      			"<span id = 'delete"+request+"' style = 'margin-left:-7px' > </span> <br>" +
      			"<h4 id = '"+request+"text'>" + requestName + " </h4>" + 
      			"<div class = 'btn-toolbar'>" + 
      					"<div class = 'btn-group' id ='buttons'>"+
      						"<span class='badge-info' id = 'liked"+request+"'> <span class='glyphicon glyphicon-thumbs-up'>" +
      						" </span> </span>" + 
 							"<span class='badge-info' id = 'numLiked" +request+"'>1</span> </div>" + 
 						"<div class = 'btn-group'>"+
 							"<span class='badge-info' id = 'disliked"+request+"'> <span class='glyphicon glyphicon-thumbs-down'>" +
      						" </span> </span>" + 
 							"<span class='badge-info' id ='numDisliked" + request+"'>0</span> </div>" + 
      				"</div> </div> </a> </li> ");
      	$("#liked"+request).click(function(evt){
      		var currNum = parseInt($("#numLiked" + request).text());
      		var newNum = currNum + 1;
      		$("#numLiked" + request).text(newNum);
     	});
     	$("#disliked"+request).click(function(evt){
      		var currNum = parseInt($("#numDisliked" + request).text());
      		var newNum = currNum + 1;
      		$("#numDisliked" + request).text(newNum);
     	});
     	if (hTeam) {
     		$('#delete'+request).append("<button class = 'btn btn-sm' style='background-color:transparent' id = 'deleted" + request+"'> <span class = 'glyphicon glyphicon-remove'></span> </button>");
			$('#deleted'+request).click(function(evt){
				$(this).parents('li').remove();	
			});
			$('#'+request+'text').attr('contenteditable',"true");
			$('#'+request+'text').css('cursor', 'text' );
     	}
      	$(newRequest).val('');
      	
	})
});
	
	// add button behavior

</script>

</head>

<body id = corkboard>

	<!-- navigation bar-->
	<nav class="navbar navbar-default" role="navigation">
	<div class="container-fluid">
	<div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html#"> Serve Us </a> 
    </div>
    <div class="collapse navbar-collapse" id="navigation">
    	<ul class="nav navbar-nav">
    	
      	<li class="active"> <a href="#"> Requests </a></li>
 	  	<li><a href="menu.html#"> Menu </a></li>
    	<li><a href="contact.html#"> Contact </a></li>
    	
    	</ul>
    	<!-- current user: TODO, update depending on who is logged in -->
 		<ul class="nav navbar-nav navbar-right">
 		<li class="disabled" ><a href="#"> Sarah K. Walker </a></li>
 		</ul>
 	</div>
 	</nav>
 	
	<div class="container">
	
		<!-- form for writing in a new request --> 
  		<form class="form-inline" role="form">
  			<div class="form-group">
  				<!-- <label class="sr-only" for="newRequest"> New Request </label> -->   				 	
  				<input type="text" class="form-control" id="newRequest" placeholder="New Request">
  			</div>
  			<button type="submit" class="btn btn-sm" id = "btnSubmit"> Submit </button>
  			<button type="submit" class="btn btn-sm pull-right" id = "houseTeam" > Part of House Team? </button>
		</form>
		
		<br>
		<br>
  			
  		<!-- start off with some stickies on the page --> 
  		<!--<div class= 'col-xs-4' > -->
  		<ul class="thumbnails" id = "stickies">
  		<li class = 'col-xs-4'>
   			<a href='#' class='thumbnail' id = 'stickystrawberries'>
   			<img src= 'stickynote.png'>
    		<div class = 'requestedItem'>
				<span id = 'deletestrawberries' style = "margin-left:-7px"> </span>
				<br><h4 id = 'strawberriestext'> strawberries </h4>
				<div class = 'btn-toolbar'>
      				<div class = 'btn-group' id ='buttons'>
    					<span class='badge-info' id = 'likedstrawberries'> <span class='glyphicon glyphicon-thumbs-up'>
      			 		</span> </span>
 						<span class='badge-info' id = 'numLikedstrawberries'>3</span>
 					 </div>
				<div class = 'btn-group'>
 					<span class='badge-info' id = 'dislikedstrawberries'> <span class='glyphicon glyphicon-thumbs-down'>
 					  </span> </span>
 					<span class='badge-info' id ='numDislikedstrawberries'>0</span> </div> 
      			</div> 
			</div> 
			</a>
		</li>
      	<!--</div> -->
      	
      	<!--<div class= 'col-xs-4' >-->
      	<li class = 'col-xs-4'>
   			<a href='#' class='thumbnail' id = 'stickypitachips'>
   			<img src= 'stickynote.png'>
    		<div class = 'requestedItem'>
				<span id = 'deletepitachips' style = "margin-left:-7px"> </span> <br>
				<h4 id = 'pitachipstext'> pita chips </h4>
				<div class = 'btn-toolbar'>
      				<div class = 'btn-group' id ='buttons'>
    					<span class='badge-info' id = 'likedpitachips'> <span class='glyphicon glyphicon-thumbs-up'>
      			 		</span> </span>
 						<span class='badge-info' id = 'numLikedpitachips'>5</span>
 					 </div>
				<div class = 'btn-group'>
 					<span class='badge-info' id = 'dislikedpitachips'> <span class='glyphicon glyphicon-thumbs-down'>
 					  </span> </span>
 					<span class='badge-info' id ='numDislikedpitachips'>1</span> </div> 
      			</div> 
			</div> 
			</a>
      	<!--</div> -->
      	</li>
      	</ul>
      	
	</div>
	

</body>

</html>
	
